# 表形式のRDRAモデリング
RDRASheetは表形式で要件定義を行うための形式です
要件定義はシステムの可視化と同じです
ファイル内では階層構造を表すために空白セルは上位のセルの値を引き継ぐことで階層構造を表現する

## 定義ファイルの特徴とメリット
### 1. 表形式のメリットと表現方法
- **表形式によるシステム可視化**  
    表形式では、同じ行に並ぶ項目同士が関連しているとみなすため、ダイアグラムでの配置や線による関係性の明示よりも、要件の定義に集中できるというメリットがあります。これにより、最初は大まかなアイディアを素早く全ファイルに記入し、後から関連性を洗練させていくことが容易になります。  
- **ダイアグラム形式との違い**  
    表形式はアイコンや線での直接的な関連付けは行えませんが、同じ行やファイル間での名前のリンクを活用することで、各要素の関連性を表現できます。これにより、レイアウトの細かい調整に煩わされることなく、定義そのものに集中できるというメリットがあります。      
- **表形式での関連の考え方**
	- 定義ファイルは、システムの要件定義を表形式で体系的に整理するためのフレームワークとして設計されています。ここでは、その構成と内容について、より深く分析します。
	- 表形式では同じ行にあるものが関係するものとして扱うことで、ダイアグラムと同じようにオブジェクトの関係を表現できる
	- このページは、従来のダイアグラム形式に代わり、**表形式**でシステムモデルを定義する手法「RDRA定義ファイル」について詳しく説明しています。主な内容は以下の通りです。
- **反復的な精度向上**  
    最初は大まかに全ファイルを埋め、その後、各ファイル間の関連を確認しながら精度を上げていくプロセスが推奨されています。これにより、システムのスコープや業務フローがより明確になり、要件定義が効率的に進められます。   
- ** タブ区切りファイル(tsv)の利用**  
    定義した内容はファイル毎にtsvファイルとして出力する。 
### 2. トレーサビリティの実現
- **ファイル間のリンク**  
    個々の要素がそれぞれのファイルで定義されると同時に、BUCファイルなどで各要素を統合的に関連付けることで、システム全体のトレーサビリティ（追跡可能性）が向上します。例えば、業務フローの中でどのUCがどの情報や状態を操作するかが明確に表現され、変更があった場合にその影響範囲を容易に把握できる設計となっています。
- **ビジネスルールの整理**  
    条件ファイルでは、ビジネスルールを定義し、バリエーションファイルと連動して、システムの動作ルールを数式や組み合わせとして整理します。これにより、例えば消費税の計算やその他のビジネスロジックが明確に管理され、システム変更時の保守性も向上します。      
### 3. 全体としての運用と利点
- **迅速かつ整合性のある要件定義**  
    表形式の定義ファイルは、従来のダイアグラム方式に比べてレイアウトに左右されず、要件そのものの定義に集中できるため、システムのスコープや実施すべき機能が明確に把握できるという利点があります。    
- **反復的な見直しと改善**  
    初期は粗い定義でも、一旦全ファイルを埋めることで全体像を掴み、後から各ファイル間を行き来しながら徐々に精度を上げていくプロセスが、要件漏れを防ぎつつ効率的な要件定義を可能にしています。    
### 4.定義ファイルの構成と内容
- - **各種モデル要素のファイル分割**  
    定義ファイルは、システムに関わる各要素（アクター、外部システム、情報、状態、条件、バリエーションなど）を個別のファイルで管理します。これにより、同一要素をユニークに定義し、ファイル間で名前をキーとして関連付けることが可能となっています。
- **BUCファイルによる業務フローの整理**  
    また、BUC（ビジネスユースケース）ファイルでは、業務の流れや、業務を駆動するアクティビティやユースケース（UC）が階層的に洗い出され、関連する要素（アクターや外部システムなど）と結びつけられます。これにより、同じ業務内でも関わる要素の違いにより、異なるフローが抽出される仕組みになっています。
- **各ファイルの役割**  
    ファイルごとに、以下のような項目を定義します。
    - **アクター／外部システム**  
        システムに関わる人や組織、価値を提供する外部システムを洗い出します。      
    - **業務- BUC (ビジネスユースケース)**  
        業務の流れを整理し、同じ業務でも関わるアクターや外部システムの違いから、複数のBUCに分ける手法が紹介されています。
    - **情報と状態**  
        システムが管理すべき情報やその変化（状態）を、業務上のキー（請求書番号、受注番号など）を通して整理します。  
    - **アクティビティ、UC (ユースケース)**  
        業務の流れにおいて、実際にシステムが実行する操作や、アクターがシステムを操作する具体的なステップ（例：「XXXをYYYする」）を定義します。  
    - **条件とバリエーション**  
        ビジネスルールやその条件、また、システムの変更をパラメタ的に扱うためのバリエーションを洗い出し、整理します。  

## 各ファイルの構造
表形式のRDRA定義は以下の５つのファイルで定義を行う。
- 「アクター」ファイル
- 「外部システム」ファイル
- 「BUC」ファイル
- 「情報」ファイル
- 「状態」ファイル
- 「条件」ファイル
- 「バリエーション」ファイル
- 「機能要求」ファイル
- 「非機能要求」ファイル

## 各ファイル間の関係
ファイル間には他のファイルを参照する関係がある。
以下にその参照元ファイルと参照先ファイルを示す
　定義ファイル：参照ファイル
- 「BUC」：「アクター」、「外部システム」、「情報」、「条件」
- 「情報」：「状態」、「バリエーション」
- 「状態」：「BUC」
- 「条件」：「バリエーション」、「状態」

## RDRASheetのカラム構造
### 「アクター」ファイル
システムに関わる人の役割を定義する
- A：アクター群：
- B：アクター：
- C：説明：
### 「外部システム」ファイル
システムに関わる外部のシステムを定義する
- A：外部システム群：
- B：外部システム：
- C：説明：
### 「情報」ファイル
ビジネスを進めるうえで必要な情報を元にシステムで扱う情報を表す
- A：コンテキスト：情報をまとめる単位
- B：情報：ユニークなIDで一意に識別できる
- C：属性：情報が扱う属性を表します、「、」区切りで複数の属性を一つの文字列で表す
- D：関連情報：情報間の関係を表します、「、」区切りで複数の情報を一つの文字列で表す
- E：状態モデル：状態で管理する状態モデルを表します、「、」区切りで複数の状態モデルを一つの文字列で表す
- F：バリエーション：情報に従属するバリエーションを表します、「、」区切りで複数のバリエーションを一つの文字列で表す
- G：説明：情報の説明
### 「状態」ファイル
ビジネスを駆動するために管理する必要のある状態を表す
状態の遷移を通してビジネスを駆動することで整合性を維持する
- A：コンテキスト：状態モデルが対応する情報と同じコンテキストを表す
- B：状態モデル：状態遷移の管理単位で情報に対応する
- C：状態：情報が取る状態を表す
- D：遷移UC：状態を遷移させるユースケースを表す
- E：遷移先状態：遷移された状態を表す
- F：状態モデル- 状態の説明
### 「BUC」ファイル
システム化対象の業務とその中で使われるシステムを表す
- A：業務：「販売管理」などの業務を分類する単位
- B：BUC：業務フローの単位となり、業務内に複数存在する
- C：先：フローの分岐先ラベル
- D：アクティビティ：業務フロー内の各アクティビティを表す
- E：次：業務フローの単位となり、業務内に複数存在する
- F：UC：上記アクティビティに対応し、システムが行うことをユースケースとして表す
- G：関連モデル1：次のモデルから選択する「情報」「条件」「画面」「イベント」「タイマー」から選択する
- H：関連オブジェクト1：関連モデル1に対応するオブジェクト名
- I：関連モデル2：次のモデルから選択する「アクター」「外部システム」から選択する
- J：関連オブジェクト2：関連モデル2に対応するオブジェクト名
- K：説明：「アクティビティ」また「UC」の説明

#### 関連モデル1：
- 情報：ユースケースが扱う情報を表す（情報ファイルで定義したものに対応する）
- 条件：ユースケースが扱う条件を表す（条件ファイルで定義したものに対応する）
- 画面：ユースケースを扱うアクターが使うインターフェースを表す
- イベント：ユースケースと外部システムの連携を表す
- タイマー：ユースケースが起動するタイミングを表す
#### 関連モデル2：
- アクター：関連モデル1が「画面」「イベント」で相手が人の時に「アクター」を選択
- 外部システム：関連モデル1が「画面」「イベント」で相手が外部のシステムの時に「外部システム」を選択

### 「条件」ファイル
ビジネスルールである条件を定義する
細かな条件の詳細に踏み込まず、必要なビジネスルールとして洗い出す
- コンテキスト：条件が所属するコンテキストを表す　条件に関わる情報のコンテキストを使う
- 条件：ビジネスルールの名前を表す
- 条件の説明：バリエーションを表す
- バリエーション：条件の縦軸/横軸となるバリエーションを表す（バリエーションファイルで定義したものに対応する）
- 状態モデル：条件の縦軸/横軸となる状態モデルを表す（状態ファイルで定義したものに対応する）

### 「バリエーション」ファイル
ビジネス上で認識している区分や種別を明らかにする。
バリエーションは条件の縦軸/横軸として活用される
バリエーションは企業の競争優位や効率化などにつながる区分となる
- コンテキスト：バリエーションが所属するコンテキストを表す
- バリエーション：区分や種別などの業務上の分類を表し、条件で使われる
- 値：区分や種別を表す
- 説明：バリエーションを表す


## RDRASheet形式から
## まとめ
定義ファイルは、システムの各要素を個別のファイルに分割し、表形式で関連付けることで、迅速かつ整合性のある要件定義を実現するための有力な手法です。
- 各ファイルはアクター、外部システム、情報、状態、条件、バリエーションなど、システム要件を構成する基本要素を網羅的に管理します。
- BUCファイルなどを通じて、これらの要素同士の関係を明確にし、システム全体のトレーサビリティを確保しています。
- 初期の粗い定義から反復的な見直しを通じて、全体の精度と網羅性を高める設計思想が、後のシステム設計- 開発にも大きく寄与する仕組みとなっています。
このような構成により、従来の図式的なアプローチでは難しかった要件の抽出や整合性のチェックが、表形式の定義ファイルを通じて効率的に行える点が、RDRA定義ファイルの大きな特徴です。

