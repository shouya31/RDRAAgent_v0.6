## 妥当性検証ガイド

### 目的
- RDRA定義と導入環境（拠点・アクター・制約）に照らして、ストーリー（Step）単位で実現可能性を評価し、懸念・課題と改善案を明確化する。

### スコープと用語
- RDRA定義: `1_RDRA/*.tsv` 群（アクター/外部システム/情報/状態/BUC/条件/バリエーション）を指す。
- RDRASheet: 上記RDRA定義の各TSVを総称。
- BUC: ビジネスユースケース定義（`1_RDRA/BUC.tsv`）。
- ストーリー: 「RDRA説明.md」に記載のシナリオ。Step単位で検証する。
- 画面: アクターがシステムを使うためのユーザーインタフェースを指す。
- イベント: 外部システムとの連携する役割を指す。
- 拠点: `妥当性検証環境.csv` に記載の導入拠点。
- 制約: 人員・役割・同時実行・営業時間など、拠点やアクターに紐づく条件。

### 入力/参照ファイル
- RDRA定義:  
  - `1_RDRA/アクター.tsv`, `1_RDRA/外部システム.tsv`, `1_RDRA/情報.tsv`, `1_RDRA/状態.tsv`, `1_RDRA/BUC.tsv`, `1_RDRA/条件.tsv`, `1_RDRA/バリエーション.tsv`
- 関係定義:  
  - `1_RDRA/関連データ.txt`（RDRA要素間の関係を表す）
- 環境定義:  
  - ルート直下 `妥当性検証環境.csv`
- ストーリー/結果:  
  - `1_RDRA/Validation/RDRA説明.md`（入力）  
  - `1_RDRA/Validation/要件妥当性検証結果.md`（出力）

### 検証の３視点
- ストーリーは３つの文章から出来ている
- 各々の文章毎に検証する
- ストーリーを使ってRDRA定義の内容を検証する

### 文章１の検証観点（チェックリスト）
- 文章１はBUC毎の説明がされている
- ユースケース: BUCの役割を実現するためのユースケースが用意されているかを確認する。
- ストーリーを実現する上でユースケースに関わる情報に矛盾かないかを確認する。
- 状態遷移: `状態.tsv` 状態とユースケースの関係とBUC内のユースケースに矛盾しないか確認する。
- データ: `情報.tsv` BUCの一覧の流れを実現するユースケースに関わる情報の抜けが無いかを確認する。
- 制約/運用: 拠点の制約とBUCのプロセスに無理や矛盾がいないかを検証する。
- バリエーション: `バリエーション.tsv` ビジネスルールを実現するための区分に抜けが無いかを確認する。

【重要】全てのBUC（BUC.tsv）について記述されていること

### 文章２の検証観点（チェックリスト）
- 文章２はアクター、外部システム視点でストーリーが説明されている
- 以下の観点で各々のモデルを検証する
- アクター: BUCの価値・役割を実現するために必要なアクターと結びついているかを確認する。
- 外部システム: BUCの価値・役割を実現するために必要な外部システムと結びついているかを確認する。
- 画面: アクターがシステムを使う上で必要なインターフェースが用意されていることを確認する。
- イベント: 外部システムの役割との関係から適切なインターフェースが用意されていることを確認する。
- ユースケース: アクターの役割を実現するためのユースケースが適切に用意されているかを確認する。
- 制約/運用: 拠点の制約とアクター、外部システムとの関係で制限や制約がないかを確認する。

【重要】全てのアクター（アクター.tsv）、外部システム（外部システム.tsv）について記述されていること

### 文章３の検証観点（チェックリスト）
- 文章３は情報毎の説明がされている
- 情報は情報同士の関係が各々の情報の位置づけと役割が決まる。その関係の妥当性を確認する。
- 情報はライフサイクルを持ち、ユースケースがライフサイクルを駆動する。
- 状態遷移: `状態.tsv` 情報とユースケースと状態は関係しており、その関係に矛盾がないか確認する。
- 制約/運用: 拠点の制約に対応するために必要な情報が抜けていないか確認する。

【重要】全ての情報（情報.tsv）について記述されていること

### 検証手順
1. 入力読込: RDRA定義・`関連データ.txt`・`妥当性検証環境.csv`・ストーリーを把握。
2. 関係把握: アクター↔画面↔ユースケース↔状態・情報の対応関係を確認。
3. ストーリー実行: Stepごとに前提→操作→結果の整合を上記観点で点検。
4. 判定: 各Stepを「OK/要確認/不可」に分類し、重要度（High/Med/Low）を付与。
5. 改善提案: 対象RDRASheet（シート名/キー）に対する具体的な修正案を記述。
6. 出力: 所定テンプレートに沿って `1_RDRA/Validation/要件妥当性検証結果.md` に記録。

### 判定基準
- OK: 定義と環境の双方で矛盾なく実現可能。
- 要確認: 未確定要素や外部依存があり、前提が満たされれば実現可能。
- 不可: 定義の欠落/矛盾/制約違反により現状では実現不能。設計/定義の修正が必要。

重要度（例）
- High: クリティカル（業務停止・法令/安全/根幹機能）
- Med: 重要（主要業務に影響、代替可）
- Low: 軽微（UX/運用改善レベル）

### 出力テンプレート（Markdown）
- ファイル: `1_RDRA/Validation/要件妥当性検証結果.md`

### 出力形式
- 重要度、判定基準とその理由を読みやすいように文章で出力する

### 出力対象
- 判定基準OKのものは出力しない
