# 現在の要件定義の問題点
システム開発において要件定義の必要性は認識されていますが、定義する内容が明確ではないプロジェクトを頻繁に見かけます。
多くの場合、その会社で過去に作られてきたフォーマットがあり、そのフォーマットを埋めることが要件定義だと考えられているからです。
表現形式はどこの会社もほぼ同じで、概要が数ページ書かれており、それ以外は画面一覧、機能一覧、インターフェース一覧などの一覧系と、一覧の明細に対応する詳細を記述したドキュメントで構成されています。
この構成では画面や機能などのシステム側の記述に終始し、システムの役割や使われ方が記述されていないものがほとんどです。要件定義の後には詳細な仕様を決める作業になりますが、システム機能（画面、機能、データなど）のことしか書かれていない要件定義書では、具体的な仕様化ができずシステム化はうまくいきません。
「なぜ」このような機能が必要なのかが書かれておらず、画面や機能を深掘りしようにも、そのための判断材料が欠けているからです。システムにできることは沢山あります。その中から個別の画面や機能について個々に仕様を決めなくてはなりません。この時にシステムの使われ方が重要になります。
「システムをこのように使う、だからこの画面ではこうする必要がある」という判断の流れがあります。
判断材料の記述が無い場合、実運用が見えないまま要件定義書に示された機能や画面を実現することが目的化し、実運用に耐えられないシステムになるケースが多く見られます。
もう一つの問題として「一覧とその内容」という形式では、個々の内容間の関係性がうまく記述されません。多くの場合その関係性は文章として行間に紛れ明確に表現されず、整合性や網羅性の検証ができません。その結果整合のとれていない仕様になり、結合試験などの後工程でトラブルが発生することになります。

- 自然言語の品質にバラつきがあり、書き手によって意味が変わる
- 成果物ベースで要件定義が語られるが、各成果物の関係が示されず、成果物のつながりを読み手が類推する必要がある
- 機能要件と非機能要件の区別が不明確
- 詳細レベルが統一されず、後の開発段階で不一致が発覚
- 優先順位付けが行われず、すべてを盛り込みすぎる

//**********************************************

# RDRAの役割と狙い
RDRA（Relationship Driven Requirement Analysis）は、ソフトウェア開発における要件定義手法の一つで、特に関係性（リレーションシップ）を重視して要件を整理し、可視化することを目的としています。
さらに、既存のシステムの可視化にも利用でき、保守開発の精度を向上させます
## 他のマッピング手法との関係
・RDRAでは「ユーザーストーリー」や「カスタマージャーニー」を表現することができる。
「アクター」につながるオブジェクトを表示することで、ユーザーが使う画面を表示することでシステムとのタッチポイントが表現される
## ビジネスルールを表現できる
・RDRAではビジネスルールを「条件」として扱う
・「条件」を組み立てる軸として「バリエーション」、「状態モデル」を使う
・「条件」の変更起点としている「バリエーション」、「状態モデル」の中の「状態」の変化が変更起点になる
## 重要なUCを把握できる
・システム開発を進めるにあたって重要なUCを把握することでスムーズな計画や複雑さへの対応が容易になる
・状態を遷移させるUCは重要なUCになる
・複数のコンテキスト内にある情報につながるUCは重要なUCになる
・コンテキストをつなぐUCと状態を遷移させるUCはシステム上重要なUCになる
## システム全体を俯瞰できる
・RDRAは決められたモデルによってシステムを可視化する
・各システムの可視化はモデル毎のオブジェクトによって表現される
・大規模なシステムもビジネスとシステムをつないだ
## RDRAが表現するシステム
・システムが出来ることや機能は「ユースケース」で表現される
・「状態モデル」ではシステムが管理できることを状態の遷移で表す
・システムが実現するビジネスルールは「条件」が表す
・システムは「情報」を中心に「ユースケース」が連携しながらビジネスを推進する
・「状態」は「情報」で保持され「ユースケース」が「情報」を操作することで「状態」を遷移させる
## 影響範囲・影響度分析が可能
・システムの複雑度や変更容易性は影響範囲と影響度が関係する
・システムの変更要求は「画面」、「イベント」、「バリエーション」、「条件」から発生するので、それに関連するものを調べることで影響度分析ができる
・影響度分析はメタモデルの関係を利用して各オブジェクトのつながりを使って具体的な影響範囲を確認する
・トレーサビリティと影響度分析は同じものでオブジェクトのつながりで把握する
## ビジネスの凝集度 結合度の把握
・RDRAではビジネスのグルーピングを「業務」と「BUC」で行いこの単位で凝集度を測る
・RDRAではシステムのグルーピングを「コンテキスト」で行いこの単位で凝集度を測る
・BUCの凝集度の高さは「BUC」の価値を届けるために必要最低限の「アクティビティ」で実現されることを表す
・コンテキストの凝集度の高さはコンテキスト内の情報の近さによって測る
・BUCとコンテキストのつながりはユースケースと情報のつながりで表現する

//**********************************************

# 要件定義の様々な問題をRDRAはどう解決するのか
## システムをRDRAを使って説明する方法
・ビジネスは以下の要素で説明する
　　・どのような業務が対象か
　　・その業務にはどのようなBUCがあるのか
　　・そのBUCはどのアクターと外部システムが関わるのか
　　・そのBUCはどのような仕事（アクティビティ）のフローとして実現されるか
　　・その仕事はどのアクターが関わりどのように情報を扱うのか
　　・その仕事はどの外部システムと連携し、どのような情報を扱うのか
・システムは以下の要素で説明する
　　・システムをユースケースを中心に説明する
　　・どの仕事でユースケースが使われるのか
　　・そのユースケースは何を行うのか
　　・どのアクターがどの画面でユースケースを操作するのか
　　・そのユースケースでどの情報を操作するか
　　・そのユースケースは外部システムとどのようにつながるか
　　・そのユースケースはどのようなビジネスルール(条件)に従うのか

**要件定義はシステムの方向性を決め、具体的な仕様を決めるための材料を提供する必要があります**。
そのためには業務を構成する仕事が示され、その仕事で使用するシステムの入出力が明らかになり、入出力で使われる情報を明確にすることが求められます。
そして、業務として完結する範囲が、システム化の範囲につながります。
ここでの「仕様」とはドキュメントを指すものではなく、表やモデルなどの簡易なものやプログラムコードのことを指しています。
筆者としてはRDRAでモデル化した後は実装可能になると考えているので、ここでいう「仕様」はあくまでも詳細な条件を決めることを指します

仕事と入出力の関係が分かるとシステムの使われ方が理解でき、画面や帳票、機能の具体的な仕様化が可能になります。
同様にシステム化の目的と要求を定義することでシステム化の方向性を決めることができます。

## システム化仕様のための根拠を提供
RDRAの要件定義書にはシステムと同時にシステムを取り巻く環境も記述します。
「なぜそのシステムが必要なのか」「誰がどのようにシステムを使うのか」などシステムに必要な入出力や機能が、その根拠も伴って記述できるようにします。
それによって、システム化要件を考える場合にも以下のように順序だてて論理的に組み立てられるようになります。

- 「この仕事の内容はこうで、このアクターが使う」
- 「この仕事でシステムを使うために画面が必要だ」
- 「この仕事の内容はこうだからこの画面でこの情報を入力する」
- 「ここで入力した情報を保存し、後でこの画面で使う」
上記のように構成され、整合した要件を定義することで、後工程の仕様化がスムーズに進みます。
重要なことは、システム化の目的や要求から業務作業、システムの入出力、ビジネスを駆動する情報までをつなぎ、論理立てて記述することです。
一覧から個々の定義をバラバラに定義するのではなく、つながりをもって業務とシステムを全体視点でまとめ上げることで、システム化の全体像が見えてきます。
RDRAではアイコンを使った図的表現で個々の定義をつなぎ、要件を可視化します。

## 要件を分析する枠組み
RDRAは要件をシステマティックにスピーディーに定義することを目指しています。
そのためには要件を定義するための思考の枠組みが必要です。
その枠組みをざっくりと表現すると以下の問いに答える構造を持つことです。

- 誰が何のためにこのシステムを使うのか？　
- システム化対象の業務はどういうものか？
- システムとの接点になる入出力にはどういうものがあるのか？
- 入出力を満足する情報は何なのか？
- システムで再現したい業務上の状態は何か？
これらのことを整理すると要件を定義する枠組みは次の４つの視点であると言えます。

- システムが実現する価値
- システムが使われる環境
- システムとの接点
- システム
**「システム化することによって得られる価値があり、システムが使われる環境を明らかにした上で、システムとの接点を明確にし、それを実現するのがシステムである」**という考え方です。
システムが実現することを仕様化するためにはシステムの外側でこれだけのことを明らかにしなければ、なぜこのような機能が必要だったのかが説明できません。

