# 論理データ定義
RDRA定義を使って論理データを作成する

# 論理データの作成
「1_RDRA/情報.tsv」を元に論理データモデル「論理データ.tsv」を作成する
情報の使われ方は「「1_RDRA/BUC.tsv」を参照しユースケースと情報関係を理解する

## 論理データの構造
以下のカラムから構成される
- データ名：entity名
- 項目名：カラム名
- タイプ：「string」　or [number] or [enum]
- isKey：boolean (true：主キー、false：not 主キー)
- 説明：項目名の説明

## 情報から論理データへの変換
### 情報の属性で構造を持っているのものは別論理データとして抜き出す
例）
個人情報は{"名前":個人名,"年齢":年齢,"住所":住所}
住所は{"郵便番号":,"":,"":}
### 親子関係がある情報は親と子の論理データに分割する
例）
受注情報は二つの論理データ、受注、受注明細に分け、受注明細に外部キー「受注ID」をもつ
会員情報は二つの論理データ、会員、個人情報に分け、会員に外部キー「個人情報ID」をもつ
申込情報は二つの論理データ、申込、申込記録に分け、申込記録に外部キー「申込ID」をもつ

## 論理データ作成ルール
- データはユニークな主キーを必ず持ち、項目名は「データ名＋"_ID"」とする
- 項目がバリエーションの場合は、バリエーション名を項目名にする
- タイプの「enum」はRDRAのバリエーションに対応する
- データ名_IDはユニークな数字で０からシーケンスにアップする
- 他データを参照する項目名はデータ名にIDを付けた名前にする「データ名_ID」
- 論理データの構造は「情報」の関連情報を参考に正規化に従って作成する
- 親子関係は子エンティティに親のIDを保持する
- 例：受注情報（親情報） -- 受注明細情報（子情報）
- 親子関係は子論理データが親論理データのID項目を持つ
- 状態モデルの状態を管理する項目を持つ

#### 「BUC」ファイルのフォーマット
洗い出したBUCは以下のフォーマットで出力する
- 業務：「販売管理」などの業務を分類する単位
- BUC：業務フローの単位となり、業務内に複数存在する
- アクティビティ：業務フロー内の各アクティビティを表す
- ユースケース（UC）：上記アクティビティに対応し、システムが行うことをユースケースとして表す
- 情報：ユースケースにつながる情報を表す、「、」区切りで複数の情報を一つの文字列で表す
- 条件：ユースケースにつながる条件を表す、「、」区切りで複数の条件を一つの文字列で表す
- アクター：ユースケースにつながるアクターを表す、「、」区切りで複数のアクターを一つの文字列で表す
- 外部システム：ユースケースにつながる外部システムを表す、「、」区切りで複数の外部システムを一つの文字列で表す
- 説明：「ユースケース（UC）」の説明

# 論理データモデルの作成
- 「論理データ.tsv」の論理データを元に「Mermaid　Diagram」を作成する
- Diagramの前後は必ず「```mermaid」　Mermaid　Diagram　「```」で囲む
```mermaid
～Mermaid　Diagram～ 
```
- 「論理データモデル.md」の名前で出力する

